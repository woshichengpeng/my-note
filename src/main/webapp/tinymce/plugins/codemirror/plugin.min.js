tinymce.PluginManager.requireLangPack("codemirror"),tinymce.PluginManager.add("codemirror",function(e,o){function c(){e.focus(),e.selection.collapse(!0),e.selection.setContent('<span class="CmCaReT" style="display:none">&#0;</span>');var c=$(document).height(),n=e.windowManager.open({title:"HTML source code",url:o+"/source.html",width:800,height:c-150,resizable:!0,maximizable:!0,buttons:[{text:"Ok",subtype:"primary",onclick:function(){var e=document.querySelectorAll(".mce-container-body>iframe")[0];e.contentWindow.submit(),n.close()}},{text:"Cancel",onclick:"close"}]})}e.addButton("code_source",{title:"Source code",image:o+"/img/file-html.png",onclick:c}),e.addMenuItem("code_source",{icon:"code",text:"Source code",context:"tools",onclick:c})});